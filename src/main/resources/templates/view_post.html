<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${post.title}">ExcelR Blog App</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
	<style>
	    /* ---------- Global Dark Theme ---------- */
	    body {
	        background: linear-gradient(135deg, #181a1f, #20242b, #1b1e24);
	        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
	        color: #e4e6eb;
	        min-height: 100vh;
	    }

	    /* ---------- Navbar ---------- */
	    .navbar {
	        background: linear-gradient(90deg, #23272f, #2b3038);
	        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.55);
	    }

	    .navbar-brand {
	        font-weight: 600;
	        color: #f5f6f7 !important;
	    }

	    .navbar .nav-link {
	        color: #cfd3da !important;
	        font-weight: 500;
	    }

	    .navbar .nav-link:hover {
	        color: #ffffff !important;
	    }

	    /* ---------- Main Content Wrapper ---------- */
	    .container.mt-4 {
	        background: linear-gradient(180deg, #22262d, #1d2026);
	        border-radius: 18px;
	        padding: 30px;
	        box-shadow: 0 16px 45px rgba(0, 0, 0, 0.6);
	    }

	    /* ---------- Post Content ---------- */
	    h1 {
	        font-weight: 600;
	        margin-bottom: 15px;
	        color: #f5f6f7;
	    }

	    p {
	        line-height: 1.7;
	        color: #d1d5db;
	    }

	    hr {
	        border-top: 1px solid #343a44;
	        margin: 30px 0;
	    }

	    h3, h4 {
	        color: #f5f6f7;
	        margin-bottom: 15px;
	    }

	    /* ---------- Comments ---------- */
	    .comment {
	        background: linear-gradient(180deg, #262b33, #20242b);
	        padding: 15px;
	        border-radius: 10px;
	        margin-bottom: 15px;
	        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.45);
	    }

	    .comment strong {
	        color: #5fd1c6;
	        font-weight: 600;
	    }

	    .comment p {
	        margin-top: 5px;
	        color: #d1d5db;
	    }

	    /* ---------- Comment Form ---------- */
	    form {
	        background: linear-gradient(180deg, #262b33, #20242b);
	        padding: 20px;
	        border-radius: 14px;
	        margin-top: 20px;
	        box-shadow: 0 10px 28px rgba(0, 0, 0, 0.55);
	    }

	    label {
	        display: block;
	        margin-top: 15px;
	        margin-bottom: 6px;
	        font-weight: 500;
	        color: #cfd3da;
	    }

	    input, textarea {
	        width: 100%;
	        padding: 10px;
	        border-radius: 8px;
	        border: 1px solid #343a44;
	        background-color: #15181d;
	        color: #f0f2f5;
	        box-sizing: border-box;
	    }

	    textarea {
	        height: 100px;
	        resize: vertical;
	    }

	    input::placeholder,
	    textarea::placeholder {
	        color: #9aa0aa;
	    }

	    input:focus,
	    textarea:focus {
	        outline: none;
	        border-color: #5fd1c6;
	        box-shadow: 0 0 0 1px rgba(95, 209, 198, 0.4);
	    }

	    button {
	        margin-top: 20px;
	        background-color: #5fd1c6;
	        color: #0f1115;
	        border: none;
	        padding: 10px 18px;
	        font-size: 15px;
	        font-weight: 600;
	        border-radius: 8px;
	        cursor: pointer;
	    }

	    button:hover {
	        background-color: #7fe3da;
	    }

	    /* ---------- Search Box ---------- */
	    .search-box {
	        background: linear-gradient(180deg, #262b33, #20242b);
	        padding: 20px;
	        border-radius: 14px;
	        box-shadow: 0 10px 28px rgba(0, 0, 0, 0.55);
	    }

	    .search-box h5 {
	        font-weight: 600;
	        margin-bottom: 15px;
	        color: #5fd1c6;
	    }

	    .search-box input {
	        margin-bottom: 10px;
	    }

	    /* ---------- Footer ---------- */
	    .footer {
	        background: linear-gradient(90deg, #23272f, #2b3038);
	        color: #cfd3da;
	        padding: 16px 0;
	        text-align: center;
	        margin-top: 40px;
	        border-radius: 12px;
	        font-size: 14px;
	    }

	    .footer a {
	        color: #5fd1c6;
	        font-weight: 500;
	    }

	    .footer a:hover {
	        color: #7fe3da;
	        text-decoration: underline;
	    }
	</style>

</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg">
    <div class="container">
        <a class="navbar-brand" href="#">ExcelR Blog App</a>
        <div class="navbar-nav">
            <a class="nav-link" th:href="@{/dashboard}">Home</a>
            <a class="nav-link" th:href="@{/register}">Register</a>
            <a class="nav-link" th:href="@{/login}">Login</a>
        </div>
    </div>
</nav>

<!-- Main Content -->
<div class="container mt-4">
    <div class="row">
        <!-- Left: Post + Comments -->
        <div class="col-md-9">
            <h1 th:text="${post.title}">Post Title</h1>
            <p th:text="${post.content}">Post Content</p>

            <hr>
            <h3>Comments</h3>
            <div th:each="comment : ${comments}" class="comment">
                <strong th:text="${comment.name}">User</strong> says:
                <p th:text="${comment.content}">Comment Content</p>
            </div>

            <!-- Add Comment Form -->
            <div th:if="${user != null and user.id != post.user.id}">
                <h4>Add a Comment</h4>
                <form th:action="@{/comment/{postId}(postId=${post.id})}" th:object="${commentObj}" method="post">
                    <label>Name:</label>
                    <input type="text" th:field="*{name}" required />

                    <label>Email:</label>
                    <input type="email" th:field="*{email}" required />

                    <label>Comment:</label>
                    <textarea th:field="*{content}" required></textarea>

                    <button type="submit">Submit</button>
                </form>
            </div>

            <!-- Author can't comment -->
            <div th:if="${user != null and user.id == post.user.id}">
                <p>You cannot comment on your own post.</p>
            </div>
        </div>

        <!-- Right: Search Box -->
        <div class="col-md-3">
            <div class="search-box">
                <h5>Blog Search</h5>
                <form th:action="@{/search}" method="get">
                    <input type="text" name="query" class="form-control mb-2" placeholder="Search blogs..." th:value="${query}">
                    <button type="submit" class="btn btn-primary btn-block">Search</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Footer -->
<div class="footer">
    <div class="container">
        Copyright Â© 2023 <a href="#">ExcelR</a>. All rights reserved.
    </div>
</div>

</body>
</html>
